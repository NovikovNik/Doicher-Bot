from random import randint
from translator import tranlate_word
from pictures import draw_text


def _get_words_from_list(lang):
    i = randint(10, 9730)
    """–ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º —Å–ª–æ–≤ –∏ –≤—ã–±–æ—Ä —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∏–∑ –Ω–∏—Ö
    """
    with open(lang, 'r', encoding = "ISO-8859-1") as f:
        for _, line in enumerate(f):
            if _ == (i):
                return line
                

def _format_line(line):
    """–§–æ—Ä–º–∏—Ä–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏. –ü–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ - –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –≤–∞—Ä–∏–∞–Ω—Ç,
    –≤—Ç–æ—Ä–æ–µ - –Ω–µ–º–µ—Ü–∫–∏–π. –û—Ç—Ä–µ–∑–∞–µ—Ç—Å—è —Å–∏–º–≤–æ–ª –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏.
    """
    source = line[:-1]
    tmp = source.split('\t')
    return tmp
    

def get_sentense(lang, pic=None):
    words = _format_line(_get_words_from_list(lang))
    bottom_word = tranlate_word(words[0])
    draw_text(upper=words[1], bottom=bottom_word, user=pic)
    return(f"üá©üá™ –ù–æ–≤–æ–µ —Å–ª–æ–≤–æ –¥–ª—è —Ç–µ–±—è: {words[1]}, –æ–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç: {tranlate_word(words[0])} üá∑üá∫")

